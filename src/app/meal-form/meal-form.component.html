<app-header></app-header>
<div class="container-fluid text-center mt-5">
  <div class="row">
    <div class="col-md-4"></div>
    <form
      class="col-md-4 bg-secondary bg-gradient"
      [formGroup]="mealForm"
      (ngSubmit)="submitTheForm()"
    >
      <div class="mt-2">
        <mat-form-field appearance="fill">
          <input
            matInput
            (dateChange)="updateMealDataValue()"
            [matDatepicker]="picker1"
            formControlName="today"
          />
          <mat-datepicker-toggle
            matIconSuffix
            [for]="picker1"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Meal Time</mat-label>
          <mat-select formControlName="mealTime">
            <mat-option *ngFor="let eachMeal of mealTime" [value]="eachMeal">
              {{ eachMeal }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div
        *ngFor="
          let eachUser of getMealsConsumptionArrayControls;
          let indexValue = index
        "
        formArrayName="mealsConsumptionArray"
      >
        <div [formGroupName]="indexValue">
          <mat-form-field>
            <input matInput formControlName="mealsConsumedUser" />
          </mat-form-field>
          <mat-radio-group
            aria-label="Select an option"
            formControlName="mealsConsumed"
          >
            <mat-radio-button
              *ngFor="let eachMealOption of mealsConsumedOptions"
              [value]="eachMealOption"
              >{{ eachMealOption }}</mat-radio-button
            >
          </mat-radio-group>
        </div>
      </div>
      <button
        class="btn btn-success m-3"
        [disabled]="mealForm.invalid"
        type="submit"
      >
        Submit
      </button>
    </form>
    <div class="col-md-3"></div>
  </div>
</div>
